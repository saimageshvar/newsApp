
<head>
  <% provide(:title, '| Change Password') %>
</head>
<body>

  <div class="row">
    <div class="large-12 large-centered columns">
      <div class="login-box" >
        <div class="row">
          <div class="large-12 columns">

            <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
            <%= devise_error_messages! %>

            <div class="row">
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
              <div class="large-6 columns">
                <h2>Change Password</h2>
              </div>
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
            </div>

            <div class="row">
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
              <div class="large-6 columns">
                <%= f.label :email %><br />
                <%= f.email_field :email, readonly: true , style: "background-color: transparent;" %>
              </div>
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
            </div>



            <div class="row">
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
              <div class="large-6 columns">
                <%= f.label :password %>

                <em>(<%= @minimum_password_length=6 %> characters minimum)</em>
                <br />
                <%= f.password_field :password, autocomplete: "off", autofocus: true , required: true ,:onkeyup => 'validate_pwd()'%>
              </div>
              <br><br><br>
              <i id="excl"  aria-hidden="true"></i>
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
            </div>

            <div class="row">
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
              <div class="large-6 columns">
                <%= f.label :password_confirmation %><br />
                <%= f.password_field :password_confirmation, autocomplete: "off" , required: true,:onkeyup => 'validate_pwd()' %>
              </div>
              <br><br><br>
              <i id="tick"  aria-hidden="true"></i>

              <script>
              function validate_pwd()
              {
                var str = document.getElementById("member_password_confirmation").value;
                var str1 = document.getElementById("member_password").value;
                if(str1.length < 6)
                  document.getElementById("excl").setAttribute("class","fa fa-exclamation");
                else
                  document.getElementById("excl").setAttribute("class","");
                if(str.length === 0 || !str.trim())
                {
                  document.getElementById("tick").setAttribute("class","");
                  
                }
                else
                {
                  if(str1==str && str1.length >= 6)
                  {
                    document.getElementById("tick").setAttribute("class","fa fa-check");
                    document.getElementById("excl").setAttribute("class","");

                  }
                  else if(str1==str && str1.length < 6)
                  {
                    document.getElementById("tick").setAttribute("class","fa fa-exclamation");
                    document.getElementById("excl").setAttribute("class","fa fa-exclamation");
                  }
                  else if(str1!=str && str1.length < 6)
                  {
                    document.getElementById("tick").setAttribute("class","fa fa-times");
                    document.getElementById("excl").setAttribute("class","fa fa-exclamation");
                  }
                  else
                  {

                    document.getElementById("tick").setAttribute("class","fa fa-times");
                    document.getElementById("excl").setAttribute("class","");
                  }
                }
              }
              </script>






              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
            </div>

            <div class="row">
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
              <div class="large-6 columns">
                <%= f.label :current_password %> <i>(we need your current password to confirm your changes)</i><br />
                <%= f.password_field :current_password, autocomplete: "off" , required: true %>
              </div>
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
            </div>


            <div class="row">
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
              <div class="large-6 columns">
                <%= f.submit "Update" , :class => 'expanded button'%>
              </div>
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
            </div>
            <% end %>
            <div class="row">
              <div class="large-3 columns" style="align-items:center">
                <p> </p>
              </div>
              <div class="large-6 columns">
                <div class="large-6 columns">
                  <%= button_to "Cancel my account", { controller: "/registration" , action: "delete" }, data: { confirm: "Are you sure?" },:class => 'alert button',style: "width:-moz-available;" %> </div>
                  <div class="large-6 columns">
                    <%= link_to "Back", :back ,:class => 'default button',style: "float:right;width: -moz-available;color:#FFFFFF;" %>
                  </div>
                </div>
                <div class="large-3 columns" style="align-items:center">
                  <p> </p>
                </div>
              </div>

            </body>
